{"version":3,"file":"component---src-templates-blog-post-tsx-content-file-path-null-69238fb7de0d0c024aac.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/templates/blog-post.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\nimport styled from \"styled-components\"\nimport { convertCategory, mergePost, removeHtmlTags } from \"../utilFunction\"\nimport RelatedList from \"../components/related-list\"\nimport SyntaxHighlighter from \"react-syntax-highlighter\"\nimport parse, { domToReact } from \"html-react-parser\"\nimport { androidstudio } from \"react-syntax-highlighter/dist/cjs/styles/hljs\"\nimport { Disqus } from \"gatsby-plugin-disqus\"\nimport config from \"../../gatsby-config\"\nimport { AllFile, MdPost, SiteMetadata } from \"../@types/global\"\n\ntype BlogPostTemplateProps = {\n  data: {\n    allFile: AllFile\n    markdownRemark: MdPost\n    mdPrevious: {\n      id: string\n      fields: {\n        slug: string\n      }\n      frontmatter: {\n        title: string\n        category: string\n      }\n    }\n    mdNext: {\n      id: string\n      fields: {\n        slug: string\n      }\n      frontmatter: {\n        title: string\n        category: string\n      }\n    }\n  }\n  location: Location\n}\n\nconst BlogPostTemplate = ({\n  data: {\n    allFile,\n    markdownRemark: md,\n    mdPrevious,\n    mdNext,\n  },\n  location,\n}: BlogPostTemplateProps) => {\n  const { siteMetadata } = config as { siteMetadata: SiteMetadata }\n\n  const post = {\n    id: md.id,\n    title: md.frontmatter.title,\n    content: md.html,\n    excerpt: removeHtmlTags(md.excerpt),\n    slug: md.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\"),\n    date: md.frontmatter.date,\n    dateModified: md.frontmatter.dateModified,\n    description: md.frontmatter.description,\n    altText: \"\",\n    gatsbyImage: getImage(allFile.edges[0]?.node.childImageSharp)!,\n    category: md.frontmatter.category,\n    tags: md.frontmatter.tags,\n  }\n  const previous = {\n    id: mdPrevious?.id,\n    title: mdPrevious?.frontmatter.title,\n    slug: mdPrevious?.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\"),\n    category: mdPrevious?.frontmatter.category,\n  }\n  const next = {\n    id: mdNext?.id,\n    title: mdNext?.frontmatter.title,\n    slug: mdNext?.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\"),\n    category: mdNext?.frontmatter.category,\n  }\n\n  return (\n    <Layout location={location}>\n      <Article\n        className=\"blog-post\"\n        itemScope\n        itemType=\"http://schema.org/Article\"\n      >\n        <header>\n          <h1 itemProp=\"headline\">{post.title}</h1>\n          <p>\n            <div className=\"time\">\n              <small>\n                <time>{post.date}</time>\n              </small>\n            </div>\n          </p>\n        </header>\n        <div className=\"featuredImage\">\n          <GatsbyImage image={post.gatsbyImage} alt={post.title} />\n        </div>\n        <Dl>\n          <dt>カテゴリ</dt>\n          <dd>\n            <Link to={`/category/${convertCategory(post.category)}`}>\n              {post.category}\n            </Link>\n          </dd>\n        </Dl>\n        <Dl>\n          <dt>タグ</dt>\n          {post.tags.map((tag, index) => {\n            return (\n              <dd key={`tag${index}`}>\n                <Link to={`/tag/${tag}/`}>{tag}</Link>\n              </dd>\n            )\n          })}\n        </Dl>\n\n        <BlogEntry>\n          <section itemProp=\"articleBody\">\n            {parse(post.content, { replace: replaceCode })}\n          </section>\n        </BlogEntry>\n        <hr />\n      </Article>\n      <BlogPostNav className=\"blog-post-nav\">\n        <ul\n          style={{\n            display: `flex`,\n            flexWrap: `wrap`,\n            justifyContent: `space-between`,\n            listStyle: `none`,\n            padding: 0,\n          }}\n        >\n          <li>\n            {previous.slug && (\n              <Link\n                to={`/${convertCategory(previous.category)}/${previous.slug}`}\n                rel=\"prev\"\n              >\n                ← {previous.title}\n              </Link>\n            )}\n          </li>\n          <li>\n            {next.slug && (\n              <Link\n                to={`/${convertCategory(next.category)}/${next.slug}`}\n                rel=\"next\"\n              >\n                {next.title} →\n              </Link>\n            )}\n          </li>\n        </ul>\n      </BlogPostNav>\n\n      <Disqus\n        config={{\n          url: `${siteMetadata.siteUrl}/${convertCategory(next.category)}/${\n            next.slug\n          }`,\n          identifier: `/${convertCategory(next.category)}/${next.slug}`,\n          title: post.title,\n        }}\n      />\n      <RelatedList slug={post.slug} category={post.category} tags={post.tags} />\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n    $imagePath: String\n  ) {\n    allFile(\n      filter: {\n        relativePath: { eq: $imagePath }\n        sourceInstanceName: { eq: \"images\" }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              height: 320\n              formats: [AUTO, WEBP, AVIF]\n              placeholder: BLURRED\n            )\n          }\n        }\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt\n      html\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"YYYY/MM/DD\")\n        dateModified(formatString: \"YYYY/MM/DD\")\n        description\n        category\n        tags\n      }\n    }\n    mdPrevious: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        category\n      }\n    }\n    mdNext: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        category\n      }\n    }\n  }\n`\n\nexport const Head = ({\n  data: { allFile, markdownRemark },\n  location,\n}: BlogPostTemplateProps) => {\n  const post = mergePost(markdownRemark, allFile)\n  return (\n    <Seo\n      title={post.title}\n      description={post.excerpt}\n      location={location}\n      imagePath={\n        post.gatsbyImage ? post.gatsbyImage.images.fallback?.src : undefined\n      }\n      post={post}\n    />\n  )\n}\n\nconst replaceCode = (node: any) => {\n  if (!node) return node\n  if (node.name === \"pre\") {\n    const dom = domToReact(getCode(node))\n    let result = \"\"\n    switch (typeof dom) {\n      case \"string\":\n        result = dom as string\n        break\n      case \"object\":\n        if (Array.isArray(dom)) {\n          // React.JSX.Element[]\n          const elmArr = dom as React.JSX.Element[]\n          elmArr.map(elm => {\n            if (elm.props && elm.props.children) {\n              result += elm.props.children as string\n            }\n          })\n        } else {\n          // React.JSX.Element\n          const elm = dom as React.JSX.Element\n          if (elm.props && elm.props.children) {\n            result = elm.props.children as string\n          }\n        }\n        break\n    }\n\n    return (\n      node.children.length > 0 && (\n        <SyntaxHighlighter\n          style={androidstudio}\n          language={getLanguage(node)}\n          showLineNumbers={true}\n        >\n          {result}\n        </SyntaxHighlighter>\n      )\n    )\n  }\n}\n\nconst getLanguage = (node: any) => {\n  function getClassInLanguage(className: string) {\n    let result = \"\"\n    className.split(/\\s+/).forEach(s => {\n      if (s.startsWith(\"language-\")) {\n        result = s.replace(\"language-\", \"\")\n        return\n      }\n    })\n    return result\n  }\n\n  if (node.attribs.class && node.attribs.class !== \"wp-block-code\") {\n    return getClassInLanguage(node.attribs.class as string)\n  } else if (node.children[0]?.attribs?.class) {\n    return getClassInLanguage(node.children[0].attribs.class as string)\n  }\n  return \"java\" // default\n}\n\nconst getCode = (node: any) => {\n  if (node.children.length > 0 && node.children[0].name === \"code\") {\n    return node.children[0].children\n  } else {\n    return node.children\n  }\n}\n\nconst Article = styled.article`\n  margin: 0 auto;\n  background-color: #fff;\n\n  .time {\n    text-align: right;\n  }\n\n  .featuredImage {\n    text-align: center;\n  }\n`\nconst BlogEntry = styled.div`\n  margin: 15px 0 30px;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n`\nconst BlogPostNav = styled.nav`\n  margin: 0 auto;\n\n  ul {\n    display: flex;\n    justify-content: space-between;\n    list-style: none;\n  }\n`\nconst Dl = styled.dl`\n  display: flex;\n  margin: 0;\n\n  dt {\n    width: 80px;\n    font-weight: 700;\n  }\n\n  dd {\n    font-size: 14px;\n    margin-left: 0;\n    padding-left: 0;\n\n    & + dd {\n      margin-left: 15px;\n      margin-bottom: 5px;\n    }\n\n    a {\n      text-decoration: none;\n      border-radius: 3px;\n      color: #fff;\n      background: var(--orange);\n      padding: 2px 5px;\n\n      &:hover {\n        opacity: 0.5;\n      }\n    }\n  }\n`\n"],"names":["_ref","_allFile$edges$","data","allFile","markdownRemark","md","mdPrevious","mdNext","location","siteMetadata","config","post","id","title","frontmatter","content","html","excerpt","removeHtmlTags","slug","fields","replace","date","dateModified","description","altText","gatsbyImage","getImage","edges","node","childImageSharp","category","tags","previous","next","React","Layout","Article","className","itemScope","itemType","itemProp","GatsbyImage","image","alt","Dl","Link","to","convertCategory","map","tag","index","key","BlogEntry","parse","replaceCode","BlogPostNav","style","display","flexWrap","justifyContent","listStyle","padding","rel","Disqus","url","siteUrl","identifier","RelatedList","Head","_ref2","_post$gatsbyImage$ima","mergePost","Seo","imagePath","images","fallback","src","undefined","name","dom","domToReact","getCode","result","Array","isArray","elm","props","children","length","SyntaxHighlighter","androidstudio","language","getLanguage","showLineNumbers","_node$children$","_node$children$$attri","getClassInLanguage","split","forEach","s","startsWith","attribs","class","styled","article","withConfig","displayName","componentId","div","nav","dl"],"sourceRoot":""}