{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/dragon-quest-x/","result":{"data":{"allFile":{"edges":[]},"mdx":null,"mdPrevious":null,"mdNext":null,"wpPost":{"id":"cG9zdDoyMTMz","title":"【書評】ドラゴンクエストXを支える技術","content":"\n<h3 class=\"wp-block-heading\">はじめに</h3>\n\n\n\n<p>技術評論社が出している、「ドラゴンクエストXを支える技術 ─ 大規模オンラインRPGの舞台裏」を読みましたのでその書評です。&#8221;〇〇を支える技術&#8221;シリーズの一冊です。</p>\n\n\n\n<p>著者は技術責任者でもあった青山プロデューサーです。著者のこだわりによりプログラミングやドラゴンクエストXの事前知識がなくても読み進められるよう丁寧に解説されているので、技術者やドラゴンクエストXのプレイヤーでなくても、楽しめる内容かと思います。</p>\n\n\n\n<p>かくいう私は、ドラクエは何シリーズかプレイしたことはありますが、ドラクエXは未プレイです。また、エンジニアではありますが、ゲームプログラミングに触れたことはありません。ただ、システム開発/運用には携わったことはあるので、ドラクエXという大人数のユーザを抱えるアプリケーションの運用について興味深く読ませてもらいました。</p>\n\n\n\n<div class=\"booklink-box\" style=\"text-align:left;padding-bottom:20px;font-size:small;zoom: 1;overflow: hidden;\"><div class=\"booklink-image\" style=\"float:left;margin:0 15px 10px 0;\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\"><img decoding=\"async\" src=\"https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/1749/9784297101749.jpg?_ex=64x64\" style=\"border: none;\"></a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"booklink-info\" style=\"line-height:120%;zoom: 1;overflow: hidden;\"><div class=\"booklink-name\" style=\"margin-bottom:10px;line-height:120%\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\">ドラゴンクエストXを支える技術</a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"><div class=\"booklink-powered-date\" style=\"font-size:8pt;margin-top:5px;font-family:verdana;line-height:120%\">posted with <a href=\"https://yomereba.com\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">ヨメレバ</a></div></div><div class=\"booklink-detail\" style=\"margin-bottom:5px;\">青山公士 技術評論社 2018年11月    </div><div class=\"booklink-link2\" style=\"margin-top:10px;\"><div class=\"shoplinkrakuten\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\">楽天ブックス</a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"shoplinkamazon\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=170&amp;pc_id=185&amp;pl_id=4062&amp;s_v=b5Rz2P0601xu&amp;url=https%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4297101742\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon</a></div><div class=\"shoplinkkindle\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=170&amp;pc_id=185&amp;pl_id=4062&amp;s_v=b5Rz2P0601xu&amp;url=https%3A%2F%2Fwww.amazon.co.jp%2Fgp%2Fsearch%3Fkeywords%3D%25E3%2583%2589%25E3%2583%25A9%25E3%2582%25B4%25E3%2583%25B3%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588X%25E3%2582%2592%25E6%2594%25AF%25E3%2581%2588%25E3%2582%258B%25E6%258A%2580%25E8%25A1%2593%26__mk_ja_JP%3D%2583J%2583%255E%2583J%2583i%26url%3Dnode%253D2275256051\" target=\"_blank\" rel=\"noopener noreferrer\">Kindle</a></div>                              \t  \t  \t  \t  \t</div></div><div class=\"booklink-footer\" style=\"clear: left\"></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">プロジェクト体制</h2>\n\n\n\n<h3 class=\"wp-block-heading\">堀井雄二さんの存在</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>絶対的な責任者が存在し、その決定が明確だからこそ、各スタッフが個々人の感覚で自由に意見を述べても、最終的には方向性が定まります。つまり、自由な意見交換が可能になり、風通しの良さにつながると考えます。</p><cite> 引用：Column 絶対的な責任者がいると風通しが良くなる？</cite></blockquote>\n\n\n\n<p>どんなシステム開発にもプロジェクト体制はありますが、ことドラクエXにおける最たる利点としては上記の堀井雄二さんの存在だと思います。私のシステム開発の経験としても、的確に信頼感/納得感を伴った意思決定をしてもらえる存在はありがたいことこの上ないです。</p>\n\n\n\n<h2 class=\"wp-block-heading\">開発の苦悩と工夫</h2>\n\n\n\n<h3 class=\"wp-block-heading\">メモリ使用量を考慮した開発</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>家庭用ゲーム機での開発は、メモリ使用量がボトルネックになるケースが多いです。そのためメモリの無駄遣いかもしれないソースコードに筆者たちは敏感なんですよ！</p><cite> 引用： Column プログラマークイズ</cite></blockquote>\n\n\n\n<p>データを扱う構造体を作成する時、メモリサイズを明示させているそうです。これは私が携わったりしているWebアプリケーション開発の感覚とは異なると感じました。確かにメモリは貴重なリソースですが、そこまでしてカツカツに有効利用しようとするのはゲームプログラミングならではだと思いました。</p>\n\n\n\n<h3 class=\"wp-block-heading\">試行錯誤したい部分を実装するための仕組み</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>ゲームのおもしろさは、実際にプレイすることでわかる部分が多いです。そのため実行速度より、試行錯誤のしやすさを優先したいことがあります。ゲーム開発ではその箇所にスクリプトを使用します。</p><cite> 引用： Lua──試行錯誤したい部分の実装</cite></blockquote>\n\n\n\n<p>Lua（るあ）と呼ばれるスクリプト言語を用いて、&#8221;試しに実装してみて動かしてみる&#8221;ということをできるようにしているそうです。こうした開発のしやすさを意識した環境作りは大事だと感じました。システム開発の現場でもアジャイルという、「動くものを早く作ってユーザに見てもらう」手法が流行っていますが、根っ子が同じだと思いました。昨今求められる要求が複雑であるなか、机上の空論ではなく動いているところを見たいというのは当然なのかもしれません。</p>\n\n\n\n<h3 class=\"wp-block-heading\">独自プロトコル</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>Vceは、スクウェア・エニックスの関連会社が開発したオンラインゲーム用プロトコルです。</p><p>Vceはステートフルなプロトコルです。ステートフルとは、クライアント／サーバ型のオンラインゲームやオンラインサービスにおいて、サーバがクライアントの状態を保持するしくみです。毎回の通信ではその状態をあらためて送る必要がないため、継続通信の場合は通信量が必要最小限で済みます。</p><cite>引用：Vce──オンラインゲーム用プロトコル</cite></blockquote>\n\n\n\n<p>効率やパフォーマンス向上のために自らプロトコルを作ったのは驚きです。かなり大変なはずです。</p>\n\n\n\n<p>通信と言ったらまずhttpプロトコルが浮かびますが、メリット/デメリットあります。ここではステートレスであることを大きなデメリットと考えて自作に至ったようです。確かにオンラインゲームは特に連続通信が発生し続けるのでステートレス(状態を保持できない)ことは無視できなさそうです。</p>\n\n\n\n<h2 class=\"wp-block-heading\">ゲーム部分の実装工夫</h2>\n\n\n\n<h3 class=\"wp-block-heading\">装備（マント）の物理演算</h3>\n\n\n\n<p>長い髪の毛やマントなどが、走ったりするとたなびくように動くとキャラクターに躍動感がでます。こうした現実世界における重力や慣性といった法則にしたがった動きをシステム上で演算することを物理演算と言います。しかし、この物理演算は計算量が多いのでシステム負荷が高いです。</p>\n\n\n\n<p>そこで、仕様として物理演算するのは2ヶ所に制限することとしたそうです。そうやって装備品を工夫することで、髪+マント+スカートといったような3ヶ所物理演算するような組み合わせを出来ないようにしています。下図のdが顕著に分かるかと思いますが、あえて髪の毛が出ないようなマントのデザインとなっています。</p>\n\n\n\n<figure class=\"wp-block-image\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained wp-image-2206 inline-gatsby-image-wrapper\"><div style=\"max-width:902px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;751&#x27;%20width=&#x27;902&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 902px) 902px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08\" data-srcset=\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 226w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/3c59866a61a43cf132d56d9ec8ebf77e/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D451%26h%3D376%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 451w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/ca2b754cda90b1f2f05272057a04aae2/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D902%26h%3D751%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 902w\" alt=\"\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 902px) 902px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08\" srcSet=\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 226w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/3c59866a61a43cf132d56d9ec8ebf77e/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D451%26h%3D376%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 451w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/ca2b754cda90b1f2f05272057a04aae2/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&amp;a=w%3D902%26h%3D751%26fm%3Dpng%26q%3D90&amp;cd=2019-07-23T04%3A25%3A08 902w\" alt=\"\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&cd=2019-07-23T04%3A25%3A08\",\"srcSet\":\"/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/2693e789afd20f6653a26b55ebc593b7/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&a=w%3D226%26h%3D188%26fm%3Dpng%26q%3D90&cd=2019-07-23T04%3A25%3A08 226w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/3c59866a61a43cf132d56d9ec8ebf77e/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&a=w%3D451%26h%3D376%26fm%3Dpng%26q%3D90&cd=2019-07-23T04%3A25%3A08 451w,/_gatsby/image/e41dc5cdcab7f1122b566c7e0b37bd78/ca2b754cda90b1f2f05272057a04aae2/image-1.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F07%2Fimage-1.png&a=w%3D902%26h%3D751%26fm%3Dpng%26q%3D90&cd=2019-07-23T04%3A25%3A08 902w\",\"sizes\":\"(min-width: 902px) 902px, 100vw\"}},\"layout\":\"constrained\",\"width\":902,\"height\":751},\"alt\":\"\",\"className\":\"wp-image-2206 inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script><figcaption>引用：図6.20 物理骨を含む部位と装備</figcaption></figure>\n\n\n\n<p>（やっぱりマントがたなびくのはカッコいいですもんね。装備として絶対必要とと思います。）</p>\n\n\n\n<h3 class=\"wp-block-heading\">移動干渉</h3>\n\n\n\n<p>多くのオンラインゲームでは、キャラクター同士が同じ位置に重なって被って見えることを許容しています。しかしドラクエXではそうではなく、同じ位置に重なることはなく、押し合い(要はこれが移動干渉)が発生します。重さなどのパラメータを元に、相手のキャラクターを押し出したり、自分が押し戻されたりします。こちらのほうが自然ですが、処理量がとても増えてシステム負荷が上がってしまいます。重なってもいいなら自由に移動できますが、移動干渉があると、各キャラクター全ての移動の前にその場所に移動できるか計算しなければならないので、ユーザ数や敵キャラクター、岩などのオブジェクトの分だけ演算が必要です。</p>\n\n\n\n<p>以下が移動干渉の例です。要はクライアント側の入力をサーバサイドで計算し、その結果がクライアント側で表示されます。レスポンス遅延はありますが、押し合うというのはユーザ操作としては自然で、ゲーム性を高めます。パフォーマンス的な難しさを乗り越えてまでも対応すべきとしたことにも頷けます。</p>\n\n\n\n<figure class=\"wp-block-image\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained wp-image-2217 inline-gatsby-image-wrapper\"><div style=\"max-width:665px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;1023&#x27;%20width=&#x27;665&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"2\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 665px) 665px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12\" data-srcset=\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 166w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/abae3d011e48a7c4739c215f754494e7/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D333%26h%3D512%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 333w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/693d0062bd2d57bac905ed0c1d9d8807/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D665%26h%3D1023%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 665w\" alt=\"\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"2\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 665px) 665px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12\" srcSet=\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 166w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/abae3d011e48a7c4739c215f754494e7/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D333%26h%3D512%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 333w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/693d0062bd2d57bac905ed0c1d9d8807/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&amp;a=w%3D665%26h%3D1023%26fm%3Djpg%26q%3D90&amp;cd=2019-08-13T04%3A58%3A12 665w\" alt=\"\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"2\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&cd=2019-08-13T04%3A58%3A12\",\"srcSet\":\"/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/02df01a3625997efdbf1cf686a9f6341/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&a=w%3D166%26h%3D255%26fm%3Djpg%26q%3D90&cd=2019-08-13T04%3A58%3A12 166w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/abae3d011e48a7c4739c215f754494e7/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&a=w%3D333%26h%3D512%26fm%3Djpg%26q%3D90&cd=2019-08-13T04%3A58%3A12 333w,/_gatsby/image/bdca1257c28fb1f48fa83fd7b1ad1c5f/693d0062bd2d57bac905ed0c1d9d8807/2019-08-13_13h57_37.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2F2019-08-13_13h57_37.jpg&a=w%3D665%26h%3D1023%26fm%3Djpg%26q%3D90&cd=2019-08-13T04%3A58%3A12 665w\",\"sizes\":\"(min-width: 665px) 665px, 100vw\"}},\"layout\":\"constrained\",\"width\":665,\"height\":1023},\"alt\":\"\",\"className\":\"wp-image-2217 inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"2\"}</script><figcaption>引用：図8.5 移動干渉を実現するための移動処理</figcaption></figure>\n\n\n\n<h2 class=\"wp-block-heading\">運用における苦労</h2>\n\n\n\n<h3 class=\"wp-block-heading\">リリース後のほうが多忙</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>オンライン非対応のゲームはリリース版の完成がすべてでした。そのためマスタアップには全神経を注ぎますが、完了したら長期休暇を取得し、旅行にいくなどリフレッシュしていました。筆者にはこれが普通でした。</p><cite>引用:Column リリース後のほうが多忙</cite></blockquote>\n\n\n\n<p>Webシステムでは当たり前のことですが、PlayStationやファミコン(古)といったゲーム開発にはなかった感覚かなと思われます。</p>\n\n\n\n<h3 class=\"wp-block-heading\">チートとの戦い</h3>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>発覚後にはチート行為の実施者のアカウントを利用停止にしており、一応の決着はついています。しかし、オンラインショッピングサイトのアプリケーション評価で「チートが蔓延しているゲーム」と書かれるなど、この1件が深い傷跡を残しています。</p><cite>引用:チート防止方法── ゲームサーバで防ぐことが基本</cite></blockquote>\n\n\n\n<p>6年間の運営の中で、明確に問題となったチート(不正)行為が上記のことだそうです。犯人は悪徳企業などではなく一般ユーザだったそうです。軽い気持ちで一般ユーザが不正アクセスするというのはゲームならではの問題かなと思いました。</p>\n\n\n\n<p>不正に対する対策は、大きく二点で、検知と難読化だそうです。サーバログから人間に不可能な動きなどを適宜チェックして検知する仕組みを設けていたり、特にクライアント側のプログラムは難読化を行いセキュリティホールを探しにくくしているそうです。</p>\n\n\n\n<h2 class=\"wp-block-heading\">終わりに</h2>\n\n\n\n<p>ドラクエという世界に名の知れた巨大なコンテンツなので、だからこその苦労も読み取れましたし、逆にシステム開発との共通点も見つけられました。プレイヤーの皆さんはこうした苦労や工夫を知った上でプレイするとまた違った楽しみを感じられるかもしれません。</p>\n\n\n\n<div class=\"booklink-box\" style=\"text-align:left;padding-bottom:20px;font-size:small;zoom: 1;overflow: hidden;\"><div class=\"booklink-image\" style=\"float:left;margin:0 15px 10px 0;\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\"><img decoding=\"async\" src=\"https://thumbnail.image.rakuten.co.jp/@0_mall/book/cabinet/1749/9784297101749.jpg?_ex=64x64\" style=\"border: none;\"></a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"booklink-info\" style=\"line-height:120%;zoom: 1;overflow: hidden;\"><div class=\"booklink-name\" style=\"margin-bottom:10px;line-height:120%\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\">ドラゴンクエストXを支える技術</a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"><div class=\"booklink-powered-date\" style=\"font-size:8pt;margin-top:5px;font-family:verdana;line-height:120%\">posted with <a href=\"https://yomereba.com\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">ヨメレバ</a></div></div><div class=\"booklink-detail\" style=\"margin-bottom:5px;\">青山公士 技術評論社 2018年11月    </div><div class=\"booklink-link2\" style=\"margin-top:10px;\"><div class=\"shoplinkrakuten\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637&amp;s_v=b5Rz2P0601xu&amp;url=http%3A%2F%2Fbooks.rakuten.co.jp%2Frb%2F15664679%2F\" target=\"_blank\" rel=\"noopener noreferrer\">楽天ブックス</a><img loading=\"lazy\" decoding=\"async\" src=\"//i.moshimo.com/af/i/impression?a_id=1041250&amp;p_id=56&amp;pc_id=56&amp;pl_id=637\" width=\"1\" height=\"1\" style=\"border:none;\"></div><div class=\"shoplinkamazon\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=170&amp;pc_id=185&amp;pl_id=4062&amp;s_v=b5Rz2P0601xu&amp;url=https%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4297101742\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon</a></div><div class=\"shoplinkkindle\" style=\"display:inline;margin-right:5px\"><a href=\"//af.moshimo.com/af/c/click?a_id=1041250&amp;p_id=170&amp;pc_id=185&amp;pl_id=4062&amp;s_v=b5Rz2P0601xu&amp;url=https%3A%2F%2Fwww.amazon.co.jp%2Fgp%2Fsearch%3Fkeywords%3D%25E3%2583%2589%25E3%2583%25A9%25E3%2582%25B4%25E3%2583%25B3%25E3%2582%25AF%25E3%2582%25A8%25E3%2582%25B9%25E3%2583%2588X%25E3%2582%2592%25E6%2594%25AF%25E3%2581%2588%25E3%2582%258B%25E6%258A%2580%25E8%25A1%2593%26__mk_ja_JP%3D%2583J%2583%255E%2583J%2583i%26url%3Dnode%253D2275256051\" target=\"_blank\" rel=\"noopener noreferrer\">Kindle</a></div>                              \t  \t  \t  \t  \t</div></div><div class=\"booklink-footer\" style=\"clear: left\"></div></div>\n","excerpt":"<p>はじめに 技術評論社が出している、「ドラゴンクエストXを支える技術 ─ 大規模オンラインRPGの舞台裏」を読みましたのでその書評です。&#8221;〇〇を支える技術&#8221;シリーズの一冊です。 著者は技術責任者でも [&hellip;]</p>\n","slug":"dragon-quest-x","date":"2019/08/19","featuredImage":{"node":{"altText":"","gatsbyImage":{"images":{"sources":[{"srcSet":"/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/b2d3f8a7de8147e348c4934c21132d53/cropped-51OQmosyL7L._SX350_BO1204203200_.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D88%26h%3D50%26fm%3Davif%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 88w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/6e4c57602fb30cbfc368772229cb3229/cropped-51OQmosyL7L._SX350_BO1204203200_.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D176%26h%3D99%26fm%3Davif%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 176w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/469de1f280a94b29cb91f31901dd204a/cropped-51OQmosyL7L._SX350_BO1204203200_.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D352%26h%3D198%26fm%3Davif%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 352w","type":"image/avif","sizes":"(min-width: 352px) 352px, 100vw"},{"srcSet":"/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/ca4aed583e67a677469540d1df3d2cf7/cropped-51OQmosyL7L._SX350_BO1204203200_.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D88%26h%3D50%26fm%3Dwebp%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 88w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/17d8e832c9b3f5ab1537188c5761fcd0/cropped-51OQmosyL7L._SX350_BO1204203200_.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D176%26h%3D99%26fm%3Dwebp%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 176w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/d38503cc95c8ecb11482b54779d7ead3/cropped-51OQmosyL7L._SX350_BO1204203200_.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D352%26h%3D198%26fm%3Dwebp%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 352w","type":"image/webp","sizes":"(min-width: 352px) 352px, 100vw"}],"fallback":{"src":"/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/ee0904fee464e27b35cfb7493d907742/cropped-51OQmosyL7L._SX350_BO1204203200_.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D88%26h%3D50%26fm%3Djpg%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e","srcSet":"/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/ee0904fee464e27b35cfb7493d907742/cropped-51OQmosyL7L._SX350_BO1204203200_.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D88%26h%3D50%26fm%3Djpg%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 88w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/6e2aef05338836716f536f6ecbd71fa3/cropped-51OQmosyL7L._SX350_BO1204203200_.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D176%26h%3D99%26fm%3Djpg%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 176w,/_gatsby/image/cff5f14e214f9c6ea324f6a223723432/7801c320d41f94185800fe9ca4bd26b6/cropped-51OQmosyL7L._SX350_BO1204203200_.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2019%2F08%2Fcropped-51OQmosyL7L._SX350_BO1204203200_.jpg&a=w%3D352%26h%3D198%26fm%3Djpg%26q%3D75&cd=2e3575c359c5c8ba9ca8433b29bfa36e 352w","sizes":"(min-width: 352px) 352px, 100vw"}},"layout":"constrained","width":352,"height":198,"backgroundColor":"rgb(248,248,248)"}}},"categories":{"nodes":[{"name":"書評"}]},"tags":{"nodes":[]}},"wpPrevious":{"title":"平日や営業日を取得するSQL(Postgress/Oracle)","slug":"get-business-day-by-sql"},"wpNext":{"title":"7payの不正アクセスについてセキュリティスペシャリストが解説","slug":"7pay-unauthorized-access"}},"pageContext":{"id":"cG9zdDoyMTMz","previousPostId":"cG9zdDoyMjMz","nextPostId":"cG9zdDoyMTc1","imagePath":null}},"staticQueryHashes":[],"slicesMap":{}}