{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/information-technology/sonatype-nexus-not-work","result":{"data":{"blogImage":{"edges":[]},"oldBlogImage":{"edges":[{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlElEQVR42kVRXU8aURDdP+lf6C/wCdOEGCRWH/RJU6O1hVowtmpjhSgsoGxFaiJfipp1A0pbRVwxvVzYZe/c08s2qZOczJnzMOdMRmO7rzEof4ZfUuJ/SXqh+KcvJY7RuLcxu5FD4F0CR+cNXLU62DSqMlOxEMuWuSbJQ28/DNfMoKfPwDnbgXj+BW4swrs7h1tPopeehmzXMRHNoGS2EI6lUWvcYfztDvSSiYnVhJzbzOOhy7g2cubGElhyWiXdRv9oBWwvBKZMuLGgsKL0Lbg/3iMYN1C5/ok36xnwgYvQWgrJk0uMhSJy8VvBX6UJ3iWWniFe/EDOZYr6J1H6sxukQfUrCfZAve/L5FgGOcUIBeN5Kpm3NPlxnw6rlt/zNYvCn3QRWE3i+KLJtH5qCt5NUZ2cA1t/BbqvQ7SvMDiYBz1aGDYKEB0TXrOAQESH9buDqH6KuS+HuGl30eo8I1u+lrVmG/GDCtfIG9oqqu2YOdu52PO5eoFNYmhL4fl8pD1x145lT21B5M8vkKP+qNBVaP0FqT2hW0kmc+8AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/bfefe312362d802a13405eac2bb8e280/259b4/953px-OpenJDK_logo.svg.png","srcSet":"/static/bfefe312362d802a13405eac2bb8e280/12c18/953px-OpenJDK_logo.svg.png 238w,\n/static/bfefe312362d802a13405eac2bb8e280/a7814/953px-OpenJDK_logo.svg.png 477w,\n/static/bfefe312362d802a13405eac2bb8e280/259b4/953px-OpenJDK_logo.svg.png 953w","sizes":"(min-width: 953px) 953px, 100vw"},"sources":[{"srcSet":"/static/bfefe312362d802a13405eac2bb8e280/871d3/953px-OpenJDK_logo.svg.avif 238w,\n/static/bfefe312362d802a13405eac2bb8e280/a2d73/953px-OpenJDK_logo.svg.avif 477w,\n/static/bfefe312362d802a13405eac2bb8e280/40a71/953px-OpenJDK_logo.svg.avif 953w","type":"image/avif","sizes":"(min-width: 953px) 953px, 100vw"},{"srcSet":"/static/bfefe312362d802a13405eac2bb8e280/c3531/953px-OpenJDK_logo.svg.webp 238w,\n/static/bfefe312362d802a13405eac2bb8e280/b44a4/953px-OpenJDK_logo.svg.webp 477w,\n/static/bfefe312362d802a13405eac2bb8e280/2c62f/953px-OpenJDK_logo.svg.webp 953w","type":"image/webp","sizes":"(min-width: 953px) 953px, 100vw"}]},"width":953,"height":270}}}}]},"markdownRemark":{"id":"da36e874-5bf0-5c6b-93c3-d5c1f1c0b303","excerpt":"表題の通り、アーティファクト(Maven)リポジトリであるSonatype NEXUSは、OracleのJava 8 Runtime Environment（JRE）が必要だそうです。 以下で公式にガイディングされている通り、OpenJDKでは動きません。 OpenJDK or…","html":"<p>表題の通り、アーティファクト(Maven)リポジトリであるSonatype NEXUSは、OracleのJava 8 Runtime Environment（JRE）が必要だそうです。</p>\n<p>以下で公式にガイディングされている通り、OpenJDKでは動きません。</p>\n<blockquote>\n<p>OpenJDK or other Java distributions or older Java versions are not supported.</p>\n<p>（訳：OpenJDKやその他(Oracle意外)のディストリビューション、古い(Java7以前)のJavaバーションはサポートされていません。）</p>\n<p>引用：<a href=\"https://help.sonatype.com/repomanager3/installation/java-runtime-environment\">https://help.sonatype.com/repomanager3/installation/java-runtime-environment</a></p>\n</blockquote>\n<h2>困ったこと</h2>\n<ul>\n<li>環境のJAVA_HOMEがOpenJDKなど、別のランタイムが導入されている。→対処方法は後述</li>\n<li>他のJREで動かそうとするとゾンビプロセスとなる可能性がある。→再現性は不明ですが、私の環境では当該事象が発生して、killコマンドでも殺せずにサーバ再起動するはめに。</li>\n<li>NEXUSの情報収集がし辛い→スマートフォンのNEXUSが検索に多数引っかかるので、ちゃんと「Sonatype NEXUS」と指定したほうが良い。</li>\n</ul>\n<h2>OpenJDKが使われている場合の対処法</h2>\n<h3>Oracle Javaを導入する</h3>\n<p>OracleJavaでないと動かないのはしょうがないので、インストールします。ことなるディストリビューションのJavaが混在する環境となります。<br>\n導入手順はここでは省きます。</p>\n<h3>NEXUSで使用するJavaのパスを個別指定する</h3>\n<p>NEXUSの起動シェルにJREのパスをオーバーライドできる部分があるので、それを書き換えます。<br>\n対象ファイルパスは、「（NEXUSホーム）/bin/nexus」です。</p>\n<p>「INSTALL4J_JAVA_HOME_OVERRIDE」という変数がどこか（割と上の方）にあるので、それのコメントアウトを外し（先頭の\"#\"を削除）、\"=\"の後にOracle Javaのパスを指定します。</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 551px; margin-left: initial;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d1d68fe646af6e9b6337cd123899f2f4/59470/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.583333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVR42o2Py27CMBBF05gQ2YzjOI4fPApRbALZ5AsqdVEqof7/B3EJ7RZ6dBdXts5oJjudkvOhtW1jTFivGWPZ/+mCC1ojRkoExWvdSumUIs5XRFVVKaWklN57dCKq69oYUxRF9j3E63H4iv3Hdvu53/+M4yXGS0rXlHZEqmn0DDQIzQyKECLP82wY4vk8xhgPXdf3fUppmibrHBcCgaZm6G8FyCh3EwhRMrYAyxksU5bl799L3ncbay0GYySuCiFwzvH+9pSHfAO2ZRMyA7N+BQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d1d68fe646af6e9b6337cd123899f2f4/85704/image.webp 240w,\n/static/d1d68fe646af6e9b6337cd123899f2f4/2d484/image.webp 480w,\n/static/d1d68fe646af6e9b6337cd123899f2f4/62aab/image.webp 551w\"\n              sizes=\"(max-width: 551px) 100vw, 551px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d1d68fe646af6e9b6337cd123899f2f4/74bfa/image.png 240w,\n/static/d1d68fe646af6e9b6337cd123899f2f4/b3a52/image.png 480w,\n/static/d1d68fe646af6e9b6337cd123899f2f4/59470/image.png 551w\"\n            sizes=\"(max-width: 551px) 100vw, 551px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d1d68fe646af6e9b6337cd123899f2f4/59470/image.png\"\n            alt=\"image\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<figcaption>\n<p>（変更前）</p>\n</figcaption>\n</figure>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; margin-left: initial;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4d647d6c476c0fdf63887bd07984fd3d/6e03b/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.583333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42mMQEpNYtX3Pp///z7z7eeb97ysff1/7/PfZl59SatoMDAyMTEwMeICgqnZG3+ypa7aUtPXkN7YXNnVUdfaXNrUrK6lIcnHJCgrKCQkpiojICQqqS0uLCAvz8fEBSQkJCXZ2dgZtW2cpJVUBIWFBQUEJcXEJCUlJCQkRCQk9cXEzSUlzeXkLeXlzOTljaWkrGRkJAQE+AQF+Pj6gTkZGRgYVJUUdLSDQVFJSUgcDU1NToH4ODg4uTk5BsFJeHh4g4ubi4ufnFxERAZJMEO8wwQAzGEDYIFOJAdLS0uLi4kCfiImJSUlJAT3Dzc0NCipGRiZUhAwgmgHfEy9dfnyL9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4d647d6c476c0fdf63887bd07984fd3d/85704/image-1.webp 240w,\n/static/4d647d6c476c0fdf63887bd07984fd3d/2d484/image-1.webp 480w,\n/static/4d647d6c476c0fdf63887bd07984fd3d/e4a09/image-1.webp 550w\"\n              sizes=\"(max-width: 550px) 100vw, 550px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4d647d6c476c0fdf63887bd07984fd3d/74bfa/image-1.png 240w,\n/static/4d647d6c476c0fdf63887bd07984fd3d/b3a52/image-1.png 480w,\n/static/4d647d6c476c0fdf63887bd07984fd3d/6e03b/image-1.png 550w\"\n            sizes=\"(max-width: 550px) 100vw, 550px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4d647d6c476c0fdf63887bd07984fd3d/6e03b/image-1.png\"\n            alt=\"image 1\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<figcaption>\n<p>（変更例：Oracle Javaが「/usr/java/jdk1.8.0_121」にある場合）</p>\n</figcaption>\n</figure>\n<h3>NEXUS再起動</h3>\n<p>これで、NEXUSを起動させればOKです。<br>\n「（NEXUSホーム）/bin/nexus start」など。</p>\n<h2>参考</h2>\n<p><a href=\"https://help.sonatype.com/repomanager3/installation/java-runtime-environment\">https://help.sonatype.com/repomanager3/installation/java-runtime-environment</a></p>\n<p><a href=\"/information-technology/adopt-open-jdk9\">Oracle Java8からAdoptOpenJDK9への変更方法</a></p>","fields":{"slug":"/posts/sonatype-nexus-not-work/"},"frontmatter":{"title":"Sonatype NEXUSはOpenJDKだと動かない","date":"2019/01/16","dateModified":null,"description":null,"category":null,"categories":["information-technology"],"tags":["maven","openjdk","sonatype-nexus"]}},"mdPrevious":{"fields":{"slug":"/posts/sencha-error/"},"frontmatter":{"title":"Sencha Ext JSを使用していて画面が真っ白になってしまったときの対処法","category":null,"categories":["information-technology"]}},"mdNext":{"fields":{"slug":"/posts/switching-java-version/"},"frontmatter":{"title":"Javaのバージョンを動的に変更するバッチを作りました","category":null,"categories":["information-technology"]}}},"pageContext":{"id":"da36e874-5bf0-5c6b-93c3-d5c1f1c0b303","previousPostId":"eb3b3f20-94df-5980-8182-b5e5ff3b2a64","nextPostId":"8744e3aa-c6b3-59c0-b799-dc30f31f4f5f","imagePath":"posts/sonatype-nexus-not-work/images/953px-OpenJDK_logo.svg.png"}},"staticQueryHashes":["3695098706","798193786"],"slicesMap":{}}